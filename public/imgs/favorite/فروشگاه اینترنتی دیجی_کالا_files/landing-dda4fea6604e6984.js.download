(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[633,8590],{1026:function(e,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/plus/landing",function(){return t(46013)}])},68590:function(e,i,t){"use strict";t.r(i),t.d(i,{DigiplusSubscriptionModal:function(){return g}});var o=t(66383),n=t(52322),r=t(2784),s=t(63474),a=t(45756),u=t(691),d=t(5185),c=t(26442),l=t(72873),p=t(57394),v=t(64177),m=t(3417),h=t(41435),f=t(74740),_=t(12978),x=(0,t(1324).q)({url:"/digiplus/plans/",inputTransformer:function(e){return{hide_direct_debit:e.isHideDirectDebit}},transformer:function(e){var i,t=e.data||{},o=t.plans,n=t.services;return{plans:null==o?void 0:null===(i=o.map)||void 0===i?void 0:i.call(o,function(e){return(0,_.G)({data:e})}),services:null==n?void 0:n.map(function(e){var i;return{serviceTitle:(i=e||{}).title,serviceIcon:i.image,serviceDescription:i.desc}})}}});function g(e){var i=e.isOpenModal,t=e.onCloseModal,_=e.isDigiplusTemporaryModal,g=e.onAddSubscriptionCallback,D=e.isHideDirectDebitPlans,b=(0,v.C)(),P=b.isDesktop,I=b.windowWidth,y=(0,o.Z)((0,r.useState)(),2),L=y[0],S=y[1],N=(0,l.V)({disabled:!i,apiMethod:x,onSuccess:function(e){(0,h.x)(e.plans)||S(e.plans[0])},apiData:{isHideDirectDebit:void 0!==D&&D}}),T=N.data,U=T.plans,O=T.services,R=N.pending,j=(0,p.J)({action:m.o_}),C=j.request,M=j.pending;return(0,n.jsx)(s.u0,{isDigiplusTemporaryModal:_,isOpenModal:i,onCloseModal:t,isDesktop:P,windowWidth:I,isPending:R,isPendingAddSubscriptionTemporary:M,plans:U,services:O,paymentUrl:(0,c.py)({type:d.Rd.PLUS,id:null==L?void 0:L.planId}),activePlan:L,onClickPlan:function(e){return function(){return S(e)}},onAddPlusTemporary:function(){C({planId:null==L?void 0:L.planId}).then(function(){(0,f.m)(g)&&g(),(0,f.m)(t)&&t()})},CROIdClose:a.h.PLUS_ON_MODAL_CLOSE,CROIdAddSubscription:a.h.PLUS_ON_MODAL_ADD,CROIdAddToCart:a.h.PLUS_ON_MODAL_ADD_TO_CART,CROIdDirectDebitNotice:a.h.PLUS_SUBSCRIPTION_MODAL_DETAILS,directDebitDetailsLink:u.Fo})}},46013:function(e,i,t){"use strict";t.r(i),t.d(i,{__getServerSideProps:function(){return S},default:function(){return L}});var o=t(52322),n=t(97729),r=t.n(n),s=t(63474),a=t(86347),u=t(45756),d=t(691),c=t(26442),l=t(64177),p=t(80803),v=t(27314),m=t(87049),h=t(6013),f=t(41701),_=t(98661),x=t(53548),g=t(68590),D=t(93787),b=t(12978),P=t(95542),I=t(12773),y=(0,t(1324).q)({url:"/digiplus/",transformer:function(e){var i,t,o,n=e.data||{},r=n.total_subscriptions_count,s=n.can_buy_subscription,a=n.cta_sentence,u=n.faq,d=n.incredible_products,c=n.early_access_products,l=n.cash_back_products,p=n.jet_delivery_products,v=n.plans,m=n.digiplus_vouchers;return{digiplusTotalSubscriptionsCount:r,digiplusCanBuySubscription:!!s,digiplusPrimaryButtonText:a,digiplusFaqs:null==u?void 0:null===(i=u.map)||void 0===i?void 0:i.call(u,function(e){return(0,P.K)({data:e})}),digiplusIncredibleProducts:(0,D.$)({data:d}),digiplusEarlyAccessProducts:(0,D.$)({data:c}),digiplusCashBackProducts:(0,D.$)({data:l}),digiplusJetDeliveryProducts:(0,D.$)({data:p}),digiplusPlans:null==v?void 0:null===(t=v.map)||void 0===t?void 0:t.call(v,function(e){return(0,b.G)({data:e})}),digiclubVouchers:null==m?void 0:null===(o=m.map)||void 0===o?void 0:o.call(m,function(e){return(0,I.T)({data:e})})}},isPageGetRequest:!0}),L=(0,f.D)({component:function(e){var i,t=e.ssrData,n=(0,p.d)(),f=n.isOpen,D=n.onOpen,b=n.onClose,P=(0,v.e)().redirect,I=(0,m.v)(h.p.digiplusData),y=(0,m.v)(h.p.isLoggedIn),L=null==I?void 0:I.digiplusIsActivated,S=null==I?void 0:null===(i=I.digiplusSubscription)||void 0===i?void 0:i.digiplusSubscriptionRemainingDays,N=(0,l.C)().isDesktop,T=(0,m.v)(h.p.digiclubData).digiclubPoints;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r(),{children:(0,o.jsx)("title",{children:(0,_.t)({title:"دیجی‌پلاس",suffix:"خدمات ویژه کاربران دیجی‌کالا"})})}),(0,o.jsx)(s.fy,{data:t,isLoggedIn:y,isPlusUser:L,remainingDays:S,profileLink:c.iV,loginLink:(0,x.U)({toLoginRegisterRoute:!0}),onOpenSubscriptionModal:D,onGoToProfile:function(){P({url:c.iV})},CROIdPrimaryButton:u.h.PLUS_LANDING_SUBSCRIPTION,CROIdServicesButton:u.h.PLUS_LANDING_SERVICE,CROIdBuyButton:u.h.PLUS_LANDING_STATS,CROIdRegisterButton:u.h.PLUS_LANDING_BENEFITS,contactUsLink:"".concat(c.dT,"?subject_id=9"),fidiplusLink:d.bZ,freeShipmentLink:(0,c.MN)(1376),CROIdQuestion:u.h.FAQ_WRITTEN_QUESTION,CROIdFAQ:u.h.PLUS_LANDING_FAQ,isDesktop:N,digiclubPoints:T,renderVoucherModalComponent:function(e){var i=e.id,t=e.type,n=e.title,r=e.instruction,s=e.requirePoints,u=e.voucherUserRedeemHistory,d=e.maximumDownload,c=e.voucherUserDownloaded,l=e.close,p=e.isModalOpen;return(0,o.jsx)(a.K,{close:l,isModalOpen:p,isPlus:!0,id:i,type:t,title:n,instruction:r,requirePoints:s,voucherUserRedeemHistory:u,maximumDownload:d,voucherUserDownloaded:c,isPlusUser:L})}}),(0,o.jsx)(g.DigiplusSubscriptionModal,{isOpenModal:f,onCloseModal:b})]})},getAPIMethods:function(){return[{apiMethod:y}]},layoutProps:{chatKey:"digiplus",noContentPadding:!0,desktopFullWidth:!0},noDefaultLoader:!0}),S=(0,t(40171).I)({getSSRMethods:L.getAPIMethods})},86347:function(e,i,t){"use strict";t.d(i,{K:function(){return N}});var o=t(66383),n=t(52322),r=t(2784),s=t(59437),a=t(98780),u=t(50603),d=t(26442),c=t(52216),l=t(72677),p={VOUCHER:"voucher",LOTTERY:"lottery"},v=t(57931),m=t(36696),h=t(5273),f=t.n(h);function _(e){var i=e.className,t=e.code,s=(0,o.Z)((0,r.useState)("low-emphasis"),2),u=s[0],d=s[1],c=(0,o.Z)((0,m.m)(),2),p=c[0],v=c[1],h=(0,l.d)("w-67 pos-relative mx-auto bg-no-repeat bg-top text-lg color-900 hover:text-digikala-500 font-bold py-5 pointer transition duration-100 ease-in-out",f().VoucherBox,i);return(0,n.jsxs)("div",{className:h,onClick:function(){v(t)},onMouseEnter:function(){d("primary")},onMouseLeave:function(){d("low-emphasis")},children:[(0,n.jsxs)("div",{className:(0,l.d)("d-flex jc-center ai-center pos-relative",f().VoucherBox__content),children:[(0,n.jsx)("span",{className:"text-body-1",children:t}),(0,n.jsx)(a.J,{icon:"copy",color:u,size:18,className:"mr-2 pos-relative"})]}),p&&(0,n.jsxs)("div",{className:"d-inline-flex ai-center py-2 px-3 bg-700 border border-n-900 radius text-xs color-000 pos-absolute left-1/2 transform -translate-x-1/2 bottom-10 transform translate-y-full -translate-x-3",children:["کد تخفیف کپی شد",(0,n.jsx)("span",{className:"w-5/2 h-5/2 pos-absolute bg-700 border-2 border-n-900 transform pos-absolute left-0 top-0 -rotate-45 -translate-y-3/2 translate-x-4 border-l-0 border-b-0"})]})]})}var x=t(64665),g=t(45756),D=t(57394),b=t(87049),P=t(6013),I=t(46943),y=t(42306),L=t(53548);function S(e){var i=e.id,t=e.url,a=e.type,u=e.isPlus,c=e.isPlusUser,l=e.setVoucher,p=e.requirePoints,m=e.maximumDownload,h=e.actionButtonTitle,f=e.isVoucherPlusExclusive,S=e.voucherUserRedeemHistory,N=e.voucherUserDownloaded,T=(0,b.v)(P.p.isLoggedIn),U=(0,D.J)({action:I.p$}),O=U.request,R=U.pending,j=(0,o.Z)((0,r.useState)(N>=m),2),C=j[0],M=j[1],A=(0,b.v)(P.p.digiclubData).digiclubPoints;return T?S&&!(0,y.d)(x.X.VOUCHER_MAX_DOWNLOAD)?(0,n.jsx)(_,{code:S}):C?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"w-full align-center text-body-2 color-500 mb-2",children:"تعداد دفعات استفاده از این کد تخفیف برای شما به پایان رسیده است."}),(0,n.jsx)(v.z,{disabled:!0,isLoading:R,children:h})]}):void 0!==u&&u&&void 0!==f&&f&&!(void 0!==c&&c)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"w-full align-center text-body-2 color-500 mb-2",children:"شما اشتراک دیجی‌پلاس ندارید"}),(0,n.jsx)(s.e,{mode:"link",href:d.LX,children:(0,n.jsx)(v.z,{className:"w-100",CROId:g.h.PLUS_LANDING_DIGICLUB_MEMBERSHIP,isLoading:R,children:"عضویت در دیجی‌پلاس"})})]}):A>=p?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"w-full align-center text-body-2 color-500 mb-2",children:"با دریافت جایزه، امتیاز کسر شده قابل بازگشت نیست."}),(0,n.jsx)(v.z,{onClick:function(){T&&O({id:i,type:a}).then(function(e){(null==e?void 0:e.code)&&l(null==e?void 0:e.code),(null==e?void 0:e.downloadedVouchers)>=m&&M(!0)})},CROId:g.h.PLUS_LANDING_DIGICLUB_GET_REWARD,isLoading:R,children:h})]}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"w-full align-center text-body-2 color-500 mb-2",children:"شما امتیاز کافی برای دریافت این جایزه ندارید."}),(0,n.jsx)(v.z,{mode:"outlined",color:"primary",to:t,children:"مشاهده روش ‌های افزایش امتیاز"})]}):(0,n.jsx)(v.z,{to:(0,L.U)({toLoginRegisterRoute:!0}),mode:"outlined",color:"primary",className:"mt-2",children:"ابتدا وارد شوید."})}function N(e){var i=e.id,t=e.type,v=e.title,m=e.close,h=e.urlTitle,f=e.isPlus,x=e.isPlusUser,g=e.isModalOpen,D=e.className,b=e.instruction,P=e.maximumDownload,I=e.voucherUserRedeemHistory,y=e.isVoucherPlusExclusive,L=e.voucherUserDownloaded,N=e.url,T=void 0===N?d.r:N,U=e.requirePoints,O=t===p.LOTTERY?"جزییات کد قرعه‌کشی":"جزییات کد تخفیف",R=t===p.LOTTERY?"دریافت کد قرعه‌کشی":"دریافت جایزه",j=(0,o.Z)((0,r.useState)(null),2),C=j[0],M=j[1];return(0,n.jsx)(u.Modal,{headerTitle:O,isOpen:g,onDismiss:function(){M(null),m()},isFooterFixed:!0,footer:(0,n.jsx)("div",{className:"d-flex flex-column user-select-none",children:C?(0,n.jsx)(_,{code:C}):(0,n.jsx)(S,{id:i,url:T,type:t,setVoucher:M,requirePoints:void 0===U?0:U,isVoucherPlusExclusive:void 0!==y&&y,isPlus:void 0!==f&&f,isPlusUser:void 0!==x&&x,maximumDownload:P,actionButtonTitle:R,voucherUserDownloaded:L,voucherUserRedeemHistory:I})}),children:(0,n.jsx)("div",{className:(0,l.d)("px-4 pb-4 bg-000 radius mx-auto",D),children:(0,n.jsxs)("div",{className:"pt-4 overflow-auto",children:[(0,n.jsx)("div",{className:"mb-3 color-900 text-h4",children:(0,c.U)(v)}),b&&(0,n.jsx)("div",{className:"color-700 text-body-1",dangerouslySetInnerHTML:{__html:b}}),T&&h&&(0,n.jsx)("div",{className:"d-flex ai-center mt-2",children:(0,n.jsxs)(s.e,{href:T,children:[h,(0,n.jsx)(a.J,{icon:"externalLink",size:18,className:"mr-1"})]})})]})})})}},93787:function(e,i,t){"use strict";t.d(i,{$:function(){return s}});var o=t(70582),n=t(15393),r=t(79968);function s(e){var i=e.data||{},t=i.discount_percent,s=i.products,a=i.products_count,u=i.see_more_url,d=i.url,c=i.title,l=i.description,p=i.background,v=i.icon,m=i.early_access_url,h=i.is_from_recommender;return{productsDiscountPercent:t,productsBackgroundImage:(0,o.W)({data:p}),productsIconImage:(0,o.W)({data:v}),products:Object.values(s||{}).map(function(e){return(0,n.r)({data:e})}),productsCount:a,productsSeeMoreUrl:(0,r.f)({data:u||d}),productsTitle:c,productsDescription:l,productsBackground:p,productsIcon:v,plusEarlyAccessUrl:(0,r.f)({data:m}),bigDataTrackerData:{is_from_ai:!!h}}}},95542:function(e,i,t){"use strict";t.d(i,{K:function(){return u}});var o=t(70865),n=t(64248),r=t(70582),s=t(79968),a=t(75743);function u(e){var i,t=e.data,u=e.prefix,d=t||{},c=d.id,l=d.title,p=d.see_more_url,v=d.icon,m=d.questions,h=(0,r.W)({data:v,prefix:"faqIcon"});return(0,n.Y)((0,o.Z)({faqIcon:(0,r.W)({data:v}),faqId:c,faqTitle:l,faqSeeMoreUrl:(0,s.f)({data:p}),faqQuestions:(null==m?void 0:null===(i=m.map)||void 0===i?void 0:i.call(m,function(e){return(0,a.Q)({data:e})}))||[]},h),{prefix:u})}},12773:function(e,i,t){"use strict";t.d(i,{T:function(){return n}});var o=t(70582);function n(e){var i=e.data||{},t=i.business,n=i.expiration_date,r=i.instruction,s=i.id,a=i.type,u=i.title,d=i.required_points_discount,c=i.required_points,l=i.promotion_badge_title,p=i.user_redeem_history,v=i.finished,m=i.start_date_timestamp,h=i.expiration_date_timestamp,f=i.maximum_download,_=i.downloaded_count,x=i.is_plus_exclusive,g=(p||{}).code,D=t||{},b=D.title,P=D.logo;return{voucherBusiness:{voucherBusinessLogo:(0,o.W)({data:P}),voucherBusinessTitle:b},voucherBusinessLogoUrl:(0,o.W)({data:P}).imageSrc,voucherBusinessTitle:b,voucherIsPlusExclusive:x,voucherExpirationDate:n,voucherInstruction:r,voucherId:s,voucherType:a,voucherTitle:u,voucherRequiredPointsDiscount:d,voucherRequiredPoints:c,voucherPromotionBadgeTitle:l,voucherUserRedeemHistory:g,voucherIsFinished:!!v,voucherStartDate:m,voucherExpirationDateTimeStamp:h,voucherMaximumDownload:f,voucherUserDownloaded:_}}},41701:function(e,i,t){"use strict";function o(e){var i=e.component,t=e.getAPIMethods,o=e.layoutProps,n=e.isPrivate,r=e.noDefaultLoader,s=e.pageActivatorFeature,a=e.redirectIfLogin,u=e.afterLogin,d=e.disableSSR,c=e.dataProps;return i.getAPIMethods=t,i.layoutProps=o,i.isPrivate=n,i.noDefaultLoader=r,i.pageActivatorFeature=s,i.redirectIfLogin=a,i.afterLogin=u,i.disableSSR=d,i.dataProps=c,i}t.d(i,{D:function(){return o}})},98661:function(e,i,t){"use strict";function o(e){var i=e.title,t=void 0===i?"":i,o=e.suffix,n=void 0===o?"":o,r=e.prefix,s=void 0===r?"":r;return"".concat(s?"".concat(s," - "):"","دیجی‌کالا").concat(t?" - ".concat(t):"").concat(n?" - ".concat(n):"")}t.d(i,{t:function(){return o}})},5273:function(e){e.exports={VoucherBox:"styles_VoucherBox__Cax_0",VoucherBox__content:"styles_VoucherBox__content__E_z7n"}}},function(e){e.O(0,[9774,2888,179],function(){return e(e.s=1026)}),_N_E=e.O()}]);