(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[962,8590],{15381:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/checkout/cart",function(){return i(36979)}])},30673:function(e,t,i){"use strict";i.d(t,{l:function(){return h}});var n=i(52322),r=i(63474),a=i(35348),s=i(45756),o=i(57394),l=i(80803),c=i(87049),d=i(3417),u=i(70131),m=i(83178),p=i(6013),x=i(41435),g=i(74740),v=i(68590);function h(e){var t=e.className,i=e.benefitsList,h=e.picturesList,f=e.onAddSubscriptionCallback,j=e.CROIdAddButton,C=(0,l.d)(),N=C.isOpen,b=C.onOpen,I=C.onClose,_=(0,c.v)(p.p.digiplusIsActivated),P=(0,c.v)(u.E.cart),T=(null==P?void 0:P.cartDigiplusTemporary)||{},y=T.cartDigiplusTemporaryPlanIcon,D=T.cartDigiplusTemporaryPlanTitle,O=T.cartDigiplusTemporaryPlanPrice,L=(0,c.v)(m.n.isDesktop),A=(0,o.J)({action:d.$M,successCallback:function(){(0,g.m)(f)&&f()}}),S=A.request,R=A.pending;return(0,n.jsx)(r.GC,{className:t,benefitsList:i,picturesList:h,CROIdAddButton:j,CROIdDeleteButton:s.h.PLUS_ON_TOUCHPOINT_REMOVE,BenefitListItem:a.x,isDesktop:L,isDisabled:(0,x.x)(i)||_,temporaryPlanIcon:y,temporaryPlanTitle:D,temporaryPlanPrice:O,isActive:!!O,requestRemoveTemporaryPlus:S,isPendingRemoveTemporaryPlus:R,subscriptionModalComponent:(0,n.jsx)(v.DigiplusSubscriptionModal,{isDigiplusTemporaryModal:!0,isHideDirectDebitPlans:!0,isOpenModal:N,onCloseModal:I,onAddSubscriptionCallback:f}),onOpenSubscriptionModal:b})}},4365:function(e,t,i){"use strict";i.d(t,{n:function(){return c}});var n=i(52322),r=i(63474),a=i(25645),s={SHIPPING_THRESHOLD:3e7,FMCG_SHIPPING_COST:19,GENERAL_SHIPPING_COST:39},o=i(52216),l=i(82332);function c(e){var t=e.className,i=e.flatShippingType,c=e.isShipBySeller;if(void 0!==c&&c)return null;var d=(0,l.t)(a.s.FreshFreePlus,i);return(0,n.jsx)(r.vJ,{title:(0,n.jsxs)(n.Fragment,{children:["ارسال ",(0,n.jsx)("span",{className:"text-body1-strong",children:" رایگان "})," سفارش‌ها برای اعضای دیجی‌پلاس"]}),subTitle:"".concat(d?(0,o.U)(s.FMCG_SHIPPING_COST):(0,o.U)(s.GENERAL_SHIPPING_COST)," هزارتومان هزینه ارسال به سراسر ایران برای کاربران غیر دیجی‌پلاس"),className:t})}},68590:function(e,t,i){"use strict";i.r(t),i.d(t,{DigiplusSubscriptionModal:function(){return j}});var n=i(66383),r=i(52322),a=i(2784),s=i(63474),o=i(45756),l=i(691),c=i(5185),d=i(26442),u=i(72873),m=i(57394),p=i(64177),x=i(3417),g=i(41435),v=i(74740),h=i(12978),f=(0,i(1324).q)({url:"/digiplus/plans/",inputTransformer:function(e){return{hide_direct_debit:e.isHideDirectDebit}},transformer:function(e){var t,i=e.data||{},n=i.plans,r=i.services;return{plans:null==n?void 0:null===(t=n.map)||void 0===t?void 0:t.call(n,function(e){return(0,h.G)({data:e})}),services:null==r?void 0:r.map(function(e){var t;return{serviceTitle:(t=e||{}).title,serviceIcon:t.image,serviceDescription:t.desc}})}}});function j(e){var t=e.isOpenModal,i=e.onCloseModal,h=e.isDigiplusTemporaryModal,j=e.onAddSubscriptionCallback,C=e.isHideDirectDebitPlans,N=(0,p.C)(),b=N.isDesktop,I=N.windowWidth,_=(0,n.Z)((0,a.useState)(),2),P=_[0],T=_[1],y=(0,u.V)({disabled:!t,apiMethod:f,onSuccess:function(e){(0,g.x)(e.plans)||T(e.plans[0])},apiData:{isHideDirectDebit:void 0!==C&&C}}),D=y.data,O=D.plans,L=D.services,A=y.pending,S=(0,m.J)({action:x.o_}),R=S.request,k=S.pending;return(0,r.jsx)(s.u0,{isDigiplusTemporaryModal:h,isOpenModal:t,onCloseModal:i,isDesktop:b,windowWidth:I,isPending:A,isPendingAddSubscriptionTemporary:k,plans:O,services:L,paymentUrl:(0,d.py)({type:c.Rd.PLUS,id:null==P?void 0:P.planId}),activePlan:P,onClickPlan:function(e){return function(){return T(e)}},onAddPlusTemporary:function(){R({planId:null==P?void 0:P.planId}).then(function(){(0,v.m)(j)&&j(),(0,v.m)(i)&&i()})},CROIdClose:o.h.PLUS_ON_MODAL_CLOSE,CROIdAddSubscription:o.h.PLUS_ON_MODAL_ADD,CROIdAddToCart:o.h.PLUS_ON_MODAL_ADD_TO_CART,CROIdDirectDebitNotice:o.h.PLUS_SUBSCRIPTION_MODAL_DETAILS,directDebitDetailsLink:l.Fo})}},36979:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return eB}});var n=i(52322),r=i(42067),a=i(45756),s=i(43242),o=i(72873),l=i(87049),c=i(70131),d=i(41701),u=i(41435),m=i(1324),p=(0,m.q)({url:"cart/tabs/",transformer:function(e){var t,i,n=e.data;return{cartCount:(null==n?void 0:null===(t=n.tabs)||void 0===t?void 0:t.cart)||0,nextCartCount:(null==n?void 0:null===(i=n.tabs)||void 0===i?void 0:i.next_cart)||0}},isPageGetRequest:!0}),x=i(66383),g=i(50930),v=i(2784),h=i(16648),f=i(98780),j=i(97969),C=i(99007),N=i(54495),b=i(94651),I=i(47853),_=i(13084),P=i(571),T=i(54296),y=i(80085),D=i(55245),O=i(72455),L=i(21211),A=i(19347),S=i(64665),R=i(88413),k=i(57394),w=i(53828),B=i(3417),E=i(6013),M=i(42306),z=i(85430),F=i(51282),U=i(40245),G=i(52216),H=i(53548),J=i(43997),V=i(57931),Z=i(14507),q=i(26442),K=i(10277);function X(e){var t=e.cartItemVariantPropertiesHasSimilarVariants,i=e.cartItemProductId,r=e.cartItemProductTitleFa,a=e.isOutOfStock,s=e.cartItemProductUrl;return a?t?(0,n.jsx)(V.z,{color:"primary",mode:"outlined",to:(0,q.H1)({productId:i,productTitleFa:r,productUrl:s}),label:" خرید از فروشنده دیگر"}):(0,n.jsx)(V.z,{color:"primary",mode:"outlined",onClick:function(){return(0,K.Z)({id:i,title:r})},children:"مشاهده کالاهای مشابه"}):null}var $=i(11559),W=i(72677),Q=i(45227),Y=(0,m.q)({type:Q.XN.POST,url:"cart/next/remove/",inputTransformer:function(e){return{next_cart_item_ids:e.cartItemIds}}}),ee=i(47842),et=i(31909),ei=i(37556),en=i.n(ei);function er(e){var t=e.image,i=e.imgAlt,r=e.retrieveProduct,a=e.progressStart,s=e.className;return(0,n.jsxs)("div",{className:(0,W.d)("d-flex flex-column jc-center ai-center",en().RemovingItemBox,s),children:[(0,n.jsx)(et.E,{image:t,alt:i,width:36,height:36}),(0,n.jsx)("p",{className:"text-subtitle-strong color-800 my-3",children:"کالای موردنظر شما حذف شد"}),(0,n.jsx)("div",{className:(0,W.d)("bg-200 radius",en().RemovingItemBox__progressBarContainer),children:(0,n.jsx)("div",{className:(0,W.d)("bg-400 radius",(0,ee.Z)({},en().RemovingItemBox__progressBarItem,a))})}),(0,n.jsxs)(V.z,{color:"white",size:"large",className:"focus:outline-none font-bold",onClick:r,children:["بازگرداندن کالا",(0,n.jsx)(f.J,{icon:"undo",size:24,className:"color-600 mr-2"})]})]})}function ea(e){var t,i=e.className,r=e.handleReloadData,a=e.isSaveForLater,s=e.cartItemData,o=e.handleSelectGiftCard,l=s||{},d=l.cartItemId,u=l.cartItemProduct,m=l.cartItemVariant,p=l.cartItemEGiftProperties,g={giftCardId:d,giftCardReceiverPhone:null==p?void 0:p.eGiftPropertiesReceiverPhoneNumber,giftCardDescription:null==p?void 0:p.eGiftPropertiesMessage,giftCardDelivery:null==p?void 0:p.eGiftPropertiesDeliveryDate},h=m||{},f=h.variantProperties,j=h.variantStatus,C=h.variantId,N=(0,J.v9)(E.p.digiplusIsActivated),b=(0,J.v9)(c.E.cart),I=!!(null==b?void 0:null===(t=b.cartDigiplusTemporary)||void 0===t?void 0:t.cartDigiplusTemporaryPlanPrice)||N,_=(0,k.J)({action:B.cD}),P=_.request,T=_.pending,y=(0,k.J)({action:B.on}),D=y.request,O=y.pending,L=(0,k.J)({action:B.lN,isPrivate:!0}),A=L.request,S=L.pending,R=(0,x.Z)((0,v.useState)(!1),2),w=R[0],M=R[1],z=(0,v.useRef)(null),F=function(e){var t=e.callback;M(!0),z.current=setTimeout(function(){t(),M(!1)},3e3)},U=(0,$.E)({apiMethod:Y}),G=U.request,H=U.pending;return(0,n.jsxs)("div",{className:(0,W.d)("pos-relative",i),children:[(0,n.jsx)("div",{className:(0,W.d)("pos-absolute top-0 left-0 bg-000 w-full h-full d-flex ai-center jc-center",{"z-1":w,"disable-events opacity-0":!w}),children:(0,n.jsx)(er,{imgAlt:null==u?void 0:u.productTitle,image:null==u?void 0:u.productImage,progressStart:w,className:"py-4",retrieveProduct:function(){clearTimeout(z.current),M(!1)}})}),(0,n.jsx)(Z.b,{hidePlusBox:!I,cartItem:s,isSaveForLater:a,isOnCheckout:!0,actionsSlot:(0,n.jsxs)("div",{className:"d-flex jc-start-lg mt-3",children:[!!a&&(0,n.jsx)(V.z,{mode:"neutralOutlined",prependIcon:"delete",iconColor:"low-emphasis",className:"ml-6",isLoading:H||O,onClick:a?function(){return F({callback:function(){G({cartItemIds:[d]}).then(function(){return null==r?void 0:r({removedCartItemVariantId:C})})}})}:function(){return F({callback:function(){return D({getFullData:!0,cartItemId:d,productVariantId:C,ignoreQuantity:!0})}})},CROId:"cart-delete-item-central",children:(0,n.jsx)("p",{className:"text-button-2 color-500",children:"حذف"})}),"marketable"===j&&a&&(0,n.jsx)(V.z,{mode:"outlined",prependIcon:"moveToCart",onClick:function(){P({productVariantId:C,removeFromNextCart:!0}).then(function(){return null==r?void 0:r({removedCartItemVariantId:C})})},isLoading:T,children:"افزودن به سبد"}),(0,n.jsx)(X,{isOutOfStock:"out_of_stock"===j,cartItemVariantPropertiesHasSimilarVariants:f.variantPropertiesHasSimilarVariants,cartItemProductId:null==u?void 0:u.productId,cartItemProductTitleFa:null==u?void 0:u.productTitle,cartItemProductUrl:null==u?void 0:u.productUrl}),(0,n.jsxs)("div",{className:"d-flex mr-auto",children:[(null==p?void 0:p.eGiftPropertiesExist)&&(0,n.jsx)(V.z,{removePadding:!0,color:"secondary",mode:"text",className:"ml-4",iconColor:"secondary",onClick:function(){o(g)},CROId:"cart-edit-gift-card",children:"ویرایش"}),"marketable"===j&&!a&&(0,n.jsx)(V.z,{removePadding:!0,color:"secondary",mode:"text",className:"mr-auto",appendIcon:"chevronLeft",iconColor:"secondary",onClick:function(){return A({cartItemId:d,getFullData:!0}).then(function(){return null==r?void 0:r()})},isLoading:S,CROId:"cart-next-purchase-cta",children:"انتقال به خرید بعدی"})]})]})})]})}var es=i(83178),eo=i(60554),el=i.n(eo),ec=function(e){var t=e.section,i=e.aside,r=e.children,a=e.pendingOrder,s=(0,l.v)(es.n.desktopHeaderSize).height,o=(0,W.d)("mb-3 mb-0-lg grow-1 border-b-200 border-none-lg",{"pl-3-lg":!!i});return(0,n.jsxs)("div",{className:el().CheckoutGrid,children:[void 0===a?"":a,(0,n.jsxs)("div",{className:"d-flex-lg",children:[(0,n.jsx)("section",{className:o,children:t}),i&&(0,n.jsx)("aside",{className:"pos-relative",children:(0,n.jsx)("div",{className:(0,W.d)("pos-sticky",el().CheckoutGrid__sideBar),style:{top:s+20},children:i})}),r]})]})},ed=i(57333),eu=i(70450),em=i(30673),ep=i(4365),ex=i(45295),eg=i(73437),ev=i(97411);function eh(e){var t=e.className,i=e.cartMergeableCartItemImages,r=(0,W.d)("p-4 mb-4 m-5-lg radius-medium-lg border-200-lg",t);return(0,n.jsxs)("div",{className:r,children:[(0,n.jsxs)("div",{className:"d-flex jc-start ai-center shrink-0",children:[(0,n.jsx)(f.J,{icon:"addItem",size:24,color:"secondary"}),(0,n.jsx)("p",{className:"text-subtitle-strong mx-2 color-800",children:"دریافت با سفارش قبلی"})]}),(0,n.jsx)("p",{className:"color-600 text-body-2",children:"می‌توانید این کالاها را همراه با سفارش قبلی خود دریافت کنید و هزینه اضافی برای ارسال نپردازید"}),(0,n.jsxs)("div",{className:"d-flex-lg jc-between ai-center",children:[(0,n.jsx)(ev.l,{items:null==i?void 0:i.map(function(e){return(0,n.jsx)(et.E,{src:e.imageSrc,webPUrl:e.imageWebpSrc,alt:"شیپمنت",width:38,height:38,className:"m-1"},e.imageSrc)}),className:"my-3 ml-2"}),(0,n.jsx)(V.z,{className:"w-full w-unset-lg",color:"primary",size:"medium",shape:"filled",CROId:"cart-receive-with-previous-order",to:q.Mm,children:"دریافت با سفارش قبلی"})]})]})}function ef(){return(0,n.jsx)(V.z,{className:"w-full",size:"large",to:q.qR,CROId:"cart-continue-shopping",children:"ثبت سفارش"})}function ej(e){var t,i,r=e.isLoading,s=e.reloadTabs,c=e.cart,d=(0,w.I)(),m=(0,x.Z)((0,v.useState)({}),2),p=m[0],J=m[1],V=(0,x.Z)((0,v.useState)(!1),2),Z=V[0],q=V[1],K=(0,o.V)({apiMethod:ex.G,onSuccess:function(){d((0,B.Wz)(Y))}}),X=K.data,$=X.recommendation,W=X.newRecommendation,Q=X.bigDataTrackerData,Y=X.cart,ee=K.reload,et=$||{},ei=et.recommendationTitle,en=et.recommendationProducts,er=W||{},es=er.recommendationTitle,eo=er.recommendationProducts,el=(null==c?void 0:c.cartItemDigipay)||{},ev=el.digipayCreditAmount,ej=el.digipayPrePaymentAmount,eC=el.digipayInstallmentCount,eN=el.digipayInstallmentAmount,eb=el.digipayRedirectUrl,eI=function(){q(!0)},e_=function(e){J(e),eI()},eP=(null==c?void 0:c.cartDigiplus)||{},eT=eP.digiplusServices,ey=eP.digiplusJetDeliveryEligibleItems,eD=(0,z.F)({digipayCreditAmount:ev,digipayPrePaymentAmount:ej,digipayInstallmentCount:eC,digipayInstallmentAmount:eN}),eO=(0,g.Z)(eT||[]),eL=[];eO.length>0&&!(0,u.x)(ey)&&(eL=ey.map(function(e){return null==e?void 0:e.digiplusJetDeliveryEligibleItemImage}));var eA=(0,l.v)(E.p.isLoggedIn),eS=(0,k.J)({action:B.MY,onSuccess:s}),eR=eS.request,ek=eS.pending,ew=(0,k.J)({action:B.jp,successCallback:s,isPrivate:!0}).request,eB=r||ek;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(ec,{aside:(0,u.x)(null==c?void 0:c.cartItems)?!eA&&(0,n.jsx)(T.n,{className:"mx-10 mx-0-lg d-none d-block-lg",title:"ورود به حساب کاربری",detail:"برای مشاهده محصولاتی که پیش‌تر به سبد خرید خود اضافه کرده‌اید وارد شوید.",rightIcon:"registerationSignIn",rightIconColor:"warning",href:(0,H.U)({toLoginRegisterRoute:!0})}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ed.O,{isTotalCartAmountBold:!0,insurancePrice:null==c?void 0:c.cartInsurance.cartInsurancePrice,digiclubPoint:null==c?void 0:c.cartDigiclub.cartDigiclubPoint,totalCartAmount:null==c?void 0:c.cartPayablePrice,price:null==c?void 0:c.cartPrice,itemCount:null==c?void 0:c.cartItemsCount,discount:null==c?void 0:c.cartDiscount,discountPercent:(0,U.O)({discount:null==c?void 0:c.cartDiscount,price:null==c?void 0:c.cartPrice}),isCartPage:!0,plusCashBack:null==c?void 0:c.cartCashBack.cartCashBackDigiplusAmount,cashBack:null==c?void 0:c.cartCashBack.cartCashBackAmount,plusTemporaryPlanPrice:null==c?void 0:null===(t=c.cartDigiplusTemporary)||void 0===t?void 0:t.cartDigiplusTemporaryPlanPrice,"data-cro-id":a.h.CART_CONTINUE_SHOPPING,nextStepButton:(0,n.jsx)(ef,{})}),(0,n.jsx)("p",{className:"color-500 text-caption my-3 d-none d-block-lg",children:"هزینه این سفارش هنوز پرداخت نشده‌ و در صورت اتمام موجودی، کالاها از سبد حذف می‌شوند"}),(0,n.jsxs)("div",{className:"bg-100 bg-000-lg d-flex flex-column px-5 px-0-lg py-4",children:[(null==c?void 0:c.cartBnplTouchPointIsActive)&&(0,n.jsx)(y.Z,{}),!(0,u.x)(eD)&&(0,n.jsx)(b.c,{url:eb,className:"mt-3 border-200",type:"digiPay",CROId:a.h.CART_DIGIPAY_CTA,title:"با استفاده از تسهیلات دیجی‌پی",benefitsList:eD}),(0,M.d)(S.X.FLAT_SHIPPING)?(0,n.jsx)(ep.n,{className:"mt-3"}):(0,n.jsx)(P.F,{className:"mt-3"})]})]}),section:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(em.l,{benefitsList:eO,picturesList:eL,CROIdAddButton:a.h.CART_PLUS_ADD_TO_BASKET}),(0,n.jsx)(h.R,{className:"p-0",children:(0,u.x)(null==c?void 0:c.cartItems)?!eB&&(0,n.jsx)(I.Q,{pendingOrdersCount:null==c?void 0:null===(i=c.cartPendingOrders)||void 0===i?void 0:i.length,isCartPage:!0}):(0,n.jsxs)("div",{className:"overflow-hidden",children:[(0,n.jsx)(N.L,{className:"px-6",description:(null==c?void 0:c.cartItemsCount)>0&&"".concat((0,G.U)((null==c?void 0:c.cartItemsCount)||"")," کالا"),title:"سبد خرید شما",leftNode:(0,n.jsxs)(C.gi,{children:[(0,n.jsx)(C.Ej,{"data-cro-id":a.h.CART_MORE_INFOS,children:(0,n.jsx)(f.J,{icon:"moreVert",color:"low-emphasis",size:24})}),(0,n.jsxs)(C.bC,{children:[(0,n.jsx)(C.z,{onClick:function(){(0,F.Ep)(F.EV,{title:"ذخیره در لیست خرید بعدی",description:"آیا از انتقال ".concat((0,G.U)(c.cartItemsCount||""),"  کالا به لیست خرید بعدی اطمینان دارید؟ "),acceptActionText:"بله",rejectActionText:"انصراف",onConfirm:function(){return ew({getFullData:!0})}})},"data-cro-id":a.h.CART_SAVE_ALL_NEXT_PURCHASE,children:(0,n.jsx)(N.L,{icon:(0,n.jsx)(f.J,{icon:"saveForLater",size:24}),title:"انتقال همه به خرید بعدی",titleClassName:"text-body1-strong color-700",titleContainerClassName:"py-0-xs"})}),(0,n.jsx)(C.z,{onClick:function(){(0,F.Ep)(F.EV,{title:"حذف همه کالاها از سبد",description:"همه کالاها را از سبد حذف می‌کنید؟",acceptActionText:"حذف همه",rejectActionText:"بازگشت",onConfirm:eR})},"data-cro-id":a.h.CART_DELETE_ITEMS_ALL,children:(0,n.jsx)(N.L,{title:"حذف همه",icon:(0,n.jsx)(f.J,{icon:"trash",size:24}),titleClassName:"text-body1-strong color-700",titleContainerClassName:"py-0-xs"})})]})]})}),!(0,u.x)(null==c?void 0:c.cartMergeableCartItemImages)&&(0,n.jsx)(eh,{cartMergeableCartItemImages:null==c?void 0:c.cartMergeableCartItemImages}),Object.values((null==c?void 0:c.cartItems)||{}).map(function(e){return(0,n.jsx)(ea,{cartItemData:e,handleReloadData:s,className:"br-list-vertical-no-padding-200",handleSelectGiftCard:e_},e.cartItemId)})]})})]}),children:[(0,n.jsx)(j.w,{isLoading:eB,hasPageContainer:!0}),(0,n.jsx)(O.Z,{children:!(0,u.x)(null==c?void 0:c.cartItems)&&(0,n.jsx)(_.g,{title:"جمع سبد خرید",price:null==c?void 0:c.cartPayablePrice,noTerms:!0,actionButton:(0,n.jsx)(ef,{})})})]}),!(0,u.x)(null==$?void 0:$.recommendationProducts)&&!(0,u.x)(null==c?void 0:c.cartItems)&&(0,n.jsx)(L.O,{productsTitle:ei,bigDataCarouselName:R._r,bigDataTrackerData:Q,products:en,"data-ab-id":A.n.ALSO_BOUGHT_RECOMMENDATIONS,className:"my-5-lg",productsCROId:a.h.ALSO_BOUGHT_PRODUCTS}),!(0,u.x)(null==W?void 0:W.recommendationProducts)&&!(0,u.x)(null==c?void 0:c.cartItems)&&(0,n.jsx)(L.O,{productsTitle:es,products:eo,bigDataCarouselName:R._r,bigDataTrackerData:Q,"data-ab-id":A.n.NEW_ALSO_BOUGHT_RECOMMENDATIONS,className:"my-5-lg d-none",productsCROId:a.h.ALSO_BOUGHT_PRODUCTS}),(0,n.jsx)("div",{className:"bg-000-lg bg-100 pt-0-lg pt-2",children:(0,n.jsx)(eu.m,{bigDataTrackerData:Q,className:"mt-4-lg mt-0 bg-000"})}),(0,n.jsx)(D.s,{giftCard:p,reloadCards:ee,isOpen:Z&&!(0,u.x)(p),onClose:function(){q(!1),J({})},apiMethod:eg.r,hasAmountField:!1,onConfirmCROId:a.h.PDP_EGIFT_EDIT_IN_CART_MODAL_CONFIRM})]})}var eC=i(69719),eN=i.n(eC);function eb(e){var t,i=e.isActive,r=e.title,a=e.itemCount,s=e.CROId,o=(0,W.d)("radius-sm color-000 mr-1 d-flex ai-center jc-center text-body2-strong",(t={},(0,ee.Z)(t,eN()["TabTitle--active"],i),(0,ee.Z)(t,"bg-400",!i),t),eN().TabTitle);return(0,n.jsxs)("div",{className:"d-flex ai-center select-none","data-cro-id":s,children:[(0,n.jsx)("span",{className:(0,W.d)({"text-subtitle":!i,"text-subtitle-strong":i}),children:r}),!!a&&(0,n.jsx)("span",{className:o,children:(0,G.U)(a)})]})}var eI=i(14878),e_=i(73739),eP=i(90877),eT=i(57306),ey=i(5185);function eD(e){var t=e.className,i=e.orders,r=void 0===i?null:i,a=(0,W.d)("pt-4 px-6 mb-5 mb-2-lg d-none d-block-lg border border-n-100 radius bg-000",t),s=(0,x.Z)((0,v.useState)(),2),o=s[0],l=s[1],c=(0,$.E)({apiMethod:eI.r}).request;return r?(0,n.jsxs)("div",{className:a,children:[(0,n.jsx)("div",{className:"text-subtitle color-900 mb-4",children:"شما ".concat((0,G.U)(r.length)," سفارش در انتظار پرداخت دارید")}),r.map(function(e){return(0,n.jsxs)("div",{className:"border-t d-flex ai-center py-5 color-800 text-normal jc-between",children:[(0,n.jsxs)("div",{className:"d-flex ai-center",children:[(0,n.jsx)("div",{className:"text-body-1 color-800",children:e.orderCartId}),(0,n.jsx)(eP.g,{className:"mx-4"}),(0,n.jsxs)("div",{className:"d-flex ai-center",children:[(0,n.jsx)("span",{className:"text-body-1 color-600 ml-2",children:"قابل پرداخت"}),(0,n.jsx)(eT.t,{iconColor:"black",iconSize:16,price:null==e?void 0:e.orderRemainingAmount,priceTextClassName:"text-subtitle-strong color-700"})]})]}),(0,n.jsx)(e_.k,{mode:"normal",color:"yellow",icon:"infoOutline",children:"سفارش در صورت عدم پرداخت تا ".concat((0,G.U)((null==e?void 0:e.orderPaymentRemainingTime)||"چند دقیقه")," دیگر لغو خواهد شد.")}),(0,n.jsxs)("div",{className:"d-flex ai-center",children:[(0,n.jsx)(V.z,{color:"primary",shape:"outlined",size:"medium",to:(0,q.di)(null==e?void 0:e.orderId),children:"جزئیات سفارش"}),(0,n.jsx)(V.z,{color:"primary",shape:"filled",className:"mr-3",size:"medium",onClick:function(){l(e.orderId),c({paymentMethodId:e.paymentMethodId,id:e.orderId,type:ey.Rd.ORDER}).then(function(){l("")})},isLoading:o===e.orderId,children:"پرداخت"})]})]},e.orderId)})]}):null}var eO=i(59437),eL=i(79514),eA=i(31948),eS=(0,m.q)({url:"cart/next/",transformer:function(e){var t,i,n=e.data;if(!n)return{};var r=null==n?void 0:null===(t=n.next_cart)||void 0===t?void 0:null===(i=t.map)||void 0===i?void 0:i.call(t,function(e){return(0,eL.l)({data:e})});return r?(0,eA.V)(r,"cartItemVariant.variantId"):{}}}),eR=function(e){var t=e.className,i=(0,W.d)("p-6 border-lg radius-medium",t);return(0,n.jsxs)("div",{className:i,children:[(0,n.jsx)("div",{className:"d-flex jc-center",children:(0,n.jsx)(et.E,{src:"/statics/img/png/empty-sfl.png",width:200,height:150,alt:"empty-cart"})}),(0,n.jsx)("p",{className:"text-h4 color-800 align-center mt-6",children:"لیست خرید بعدی شما خالی است!"}),(0,n.jsx)("p",{className:"text-body-2 color-600 align-center mt-2 mx-auto",children:"شما می‌توانید محصولاتی که به سبد خرید خود افزوده‌اید و فعلا قصد خرید آن‌ها را ندارید، در لیست خرید بعدی قرار داده و هر زمان مایل بودید آن‌ها را به سبد خرید اضافه کرده و خرید آن‌ها را تکمیل کنید."})]})};function ek(e){var t=e.className,i=e.commodityCount,r=e.isLoading,a=e.handleMoveAllToCart,s=(0,W.d)("m-4 m-0-lg p-4 bg-000 border-200 radius-medium d-none d-block-lg",t);return(0,n.jsx)("div",{className:s,children:i&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"align-center border-t py-2",children:(0,n.jsx)("span",{className:"text-body2-strong color-900",children:"".concat((0,G.U)(i)," کالا ")})}),(0,n.jsxs)(V.z,{className:"w-full",mode:"outlined",color:"primary",size:"large",isLoading:r,onClick:a,CROId:"cart-add-to-cart-from-list",children:[(0,n.jsx)(f.J,{icon:"moveToCart",size:20,color:"primary",className:"ml-3 "}),(0,n.jsx)("span",{className:"text-button-1",children:" انتقال همه به سبد خرید"})]})]})})}function ew(e){var t,i=e.reloadTabs,r=(0,J.v9)(E.p.isLoggedIn),s=(0,o.V)({apiMethod:eS}),l=s.data,c=s.pending,d=s.reload,m=function(){d(),i()},p=(0,k.J)({action:B.yK,successCallback:m}),x=p.request,g=p.pending,v=function(){x({cartItems:l,removeFromNextCart:!0})},h=Object.keys(l||{}).length,f=c||g;return(0,n.jsx)(ec,{section:(0,u.x)(l)?!f&&(0,n.jsx)(eR,{}):(0,n.jsxs)("div",{className:"border-200-lg radius-medium overflow-hidden",children:[(0,n.jsx)(N.L,{className:"pt-4 px-5 bg-000",description:"".concat((0,G.U)(h||"")," کالا"),title:"لیست خرید بعدی شما",leftNode:(0,n.jsx)("span",{"data-cro-id":a.h.CART_ADD_TO_CART_FROM_LIST_2,children:(0,n.jsx)(eO.e,{mode:"anchor",onClick:v,children:"  انتقال همه به سبد خرید"})})}),null===(t=Object.values(l||{}))||void 0===t?void 0:t.map(function(e){return(0,n.jsx)(ea,{isSaveForLater:!0,cartItemData:e,handleReloadData:m,className:"br-list-vertical-no-padding-200"},e.cartItemId)})]}),aside:(0,u.x)(l)?!r&&(0,n.jsx)(T.n,{className:"mx-10 mx-0-lg",title:"ورود به حساب کاربری",detail:"برای مشاهده محصولاتی که پیش‌تر به سبد خرید خود اضافه کرده‌اید وارد شوید.",rightIcon:"registerationSignIn",rightIconColor:"warning",href:(0,H.U)({toLoginRegisterRoute:!0})}):(0,n.jsx)(ek,{isLoading:g,commodityCount:h,handleMoveAllToCart:v}),children:(0,n.jsx)(j.w,{isLoading:f,hasPageContainer:!0})})}var eB=(0,d.D)({component:function(){var e=(0,o.V)({apiMethod:p}),t=e.data,i=e.pending,s=e.reload,d=(0,l.v)(c.E.cart);return(0,n.jsxs)(n.Fragment,{children:[!(0,u.x)(null==d?void 0:d.cartPendingOrders)&&(0,n.jsx)(eD,{className:"mt-6-lg",orders:null==d?void 0:d.cartPendingOrders}),(0,n.jsxs)(r.mQ,{initialActiveTabIdx:0,children:[(0,n.jsxs)(r.td,{className:"border-b-200",children:[(0,n.jsx)(r.OK,{children:function(e){return(0,n.jsx)(eb,{CROId:a.h.CART_MAIN_CART,itemCount:null==d?void 0:d.cartItemsCount,title:"سبد خرید",isActive:e.isActive})}}),(0,n.jsx)(r.OK,{children:function(e){return(0,n.jsx)(eb,{itemCount:t.nextCartCount,title:"خرید بعدی",CROId:a.h.CART_NEXT_PURCHASE,isActive:e.isActive})}})]}),(0,n.jsxs)(r.nP,{className:"pt-3-lg",children:[(0,n.jsx)(r.x4,{children:(0,n.jsx)(ej,{isLoading:i,reloadTabs:s,cart:d})}),(0,n.jsx)(r.x4,{children:(0,n.jsx)(ew,{reloadTabs:s})})]})]})]})},layoutProps:{mobileHasFooter:!1,contentTopPadding:16,chatKey:s.u4.cart.section,hasMobileHeader:!1}})},90877:function(e,t,i){"use strict";i.d(t,{g:function(){return n.gx}});var n=i(34606)},99007:function(e,t,i){"use strict";i.d(t,{gi:function(){return u},Ej:function(){return o},z:function(){return s},bC:function(){return d}});var n=i(70865),r=i(52322),a=i(34606);function s(e){return(0,r.jsx)(a.z,(0,n.Z)({},e))}function o(e){return(0,r.jsx)(a.Ej,(0,n.Z)({},e))}var l=i(64177),c=i(42080);function d(e){var t=(0,l.C)().isDesktop;return(0,r.jsx)(a.bC,(0,n.Z)({isDesktop:t,useModalZIndex:c.e},e))}function u(e){return(0,r.jsx)(a.gi,(0,n.Z)({},e))}},54495:function(e,t,i){"use strict";i.d(t,{L:function(){return u}});var n=i(70865),r=i(26297),a=i(52322),s=i(82494),o=i(16194),l=i(54783),c=i.n(l);function d(e){var t=e.icon,i=e.title,n=e.leftNode,r=e.className,l=e.description,d=e.titleClassName,u=e.titleContainerClassName,m=(0,o.dh)(c().SimpleList,r);return(0,a.jsx)("div",{className:m,children:(0,a.jsx)("div",{className:"w-full d-flex ai-start",children:(0,a.jsxs)("div",{className:"d-flex grow-1 ai-center",children:[t&&t,(0,a.jsx)("div",{className:(0,o.dh)("d-flex ai-start grow-1",{"mr-4":!(0,o.kK)(t)}),children:(0,a.jsx)("div",{className:"grow-1 align-right",children:(0,a.jsx)(s.D,{label:i,description:l,leftSlot:n,titleClassName:d,className:u})})})]})})})}function u(e){var t=e.title,i=(0,r.Z)(e,["title"]);return(0,a.jsx)(d,(0,n.Z)({title:t},i))}},42067:function(e,t,i){"use strict";i.d(t,{OK:function(){return n.OK},mQ:function(){return n.mQ},nP:function(){return n.nP},td:function(){return n.td},x4:function(){return n.x4}});var n=i(64091)},35348:function(e,t,i){"use strict";i.d(t,{x:function(){return s}});var n=i(52322),r=i(52216),a=i(62499);function s(e){var t=e.className,i=e.title,s=e.isLastItem,o=e.iconColor,l=e.hasLine,c=e.customIcon,d=void 0===c?null:c;return(0,n.jsx)("div",{className:t,children:(0,n.jsx)("div",{className:"d-flex flex-row jc-between ai-center",children:(0,n.jsxs)("div",{className:"d-flex flex-row jc-between ai-center",children:[(0,n.jsx)(a.Y,{width:18,className:void 0===l||l?"as-stretch":"",hasBottomLine:!s&&!d,iconColor:o,customIcon:d,hasTopLine:!d}),(0,n.jsx)("h3",{className:"mr-2 text-caption color-500",children:(0,r.U)(i)})]})})})}},94651:function(e,t,i){"use strict";i.d(t,{c:function(){return _}});var n=i(52322),r=i(59437),a=i(98780),s=i(98723),o=i(47072),l=i(41435),c=i(72677),d=i(23154),u=i(63474),m=i(45756),p=i(26442),x=i(57394),g=i(87049),v=i(3417),h=i(70131);function f(){var e=(0,g.v)(h.E.cart),t=(null==e?void 0:e.cartDigiplusTemporary)||{},i=t.cartDigiplusTemporaryPlanTitle,r=t.cartDigiplusTemporaryPlanPrice,a=(0,x.J)({action:v.$M}),s=a.request,o=a.pending;return(0,n.jsx)(u.WT,{planTitle:i,planPrice:r,onRemoveSubscriptionTemporary:s,isPendingRemoveSubscriptionTemporary:o,detailsTo:p.LX,CROId:m.h.PLUS_ON_PDP_CHECKBOX,CROIdDetails:m.h.PLUS_ON_PDP_CHECKBOX_MORE})}var j=i(1271);function C(e){var t=e.productImage,i=e.productDiscount;return(0,n.jsx)(u.b6,{productDiscountSection:(0,n.jsx)(j.C,{className:"mx-1",discountPercent:i,showLabel:!1}),productImage:t})}var N=i(35348),b={digiPlus:(0,d.$)("color-plus-500"),digiPay:(0,d.$)("color-digipay"),insurance:(0,d.$)("color-digipay"),fidibo:(0,d.$)("color-fidibo"),nativeBusiness:(0,d.$)("color-boomi-500")},I={digiPlus:"plus",digiPay:"digipay",insurance:"guarantee",fidibo:"fidibo",nativeBusiness:"nativeBusiness"};function _(e){var t=e.className,i=e.title,d=e.benefitsList,u=e.type,m=void 0===u?"digiPlus":u,p=e.url,x=e.CROId,g=e.onClick,v=e.plusProductImage,h=e.plusProductDiscount,j=e.priceIsEarlyAccess,_=(0,c.d)("w-full-lg bg-000 radius pb-4 px-3",t),P=I[m],T=b[m],y="digiPlus"===m;return(0,n.jsx)(s.r,{to:p,target:"_blank",className:"d-block",CROId:void 0===x?"":x,onClick:g,children:(0,n.jsxs)("div",{className:_,children:[(0,n.jsxs)("div",{className:"d-flex flex-row jc-start ai-center",children:[P&&(0,n.jsx)(a.J,{icon:P,size:24,color:T,className:"ml-2"}),(0,n.jsx)(r.e,{className:"w-full grow-1",children:(0,n.jsx)(o.D,{className:"p-0 w-full",titleClassName:"color-700 text-subtitle-strong",title:i,leftIcon:!y&&"chevronLeft",leftIconColor:"low-emphasis",leftLinkLabel:y&&"خرید اشتراک"})})]}),void 0!==j&&j&&(0,n.jsx)(C,{productImage:v,productDiscount:h}),!(0,l.x)(d)&&d.map(function(e,t){return(0,n.jsx)(N.x,{iconColor:T,title:e,isLastItem:t===d.length-1},e)}),y&&(0,n.jsx)(f,{})]})})}},13084:function(e,t,i){"use strict";i.d(t,{g:function(){return u}});var n=i(52322),r=i(59437),a=i(57931),s=i(68016),o=i(72762),l=i(72677),c=i(73234),d=i.n(c);function u(e){var t=e.title,i=e.price,c=e.actionText,u=e.actionCROId,m=e.onBtnClick,p=e.actionButton,x=e.noTerms,g=e.onlyButton,v=e.onReturn,h=e.termsLink,f=e.projectName,j=e.className,C=e.isLoading,N=e.disabled,b=e.noReturnButton,I=e.returnButtonText,_=(0,l.d)("px-4 py-3 bg-000 w-full",j),P=(0,l.d)({"grow-1":g||!x,"w-50 w-unset-lg":!g||x},d().fixedCTA__ButtonBox),T=(0,l.d)("d-flex flex-column jc-between ai-end mr-4 mr-0-lg ml-4-lg",{"d-none":g},d().fixedCTA__titleBox);return(0,n.jsx)("div",{className:_,children:(0,n.jsxs)("div",{className:"d-flex flex-row jc-between ai-start",children:[!b&&(0,n.jsx)("div",{className:"d-none d-block-lg",children:(0,n.jsx)(a.z,{label:void 0===I?"بازگشت":I,size:"large",mode:"outlined",onClick:v})}),(0,n.jsxs)("div",{className:"w-full w-unset-lg",children:[(0,n.jsxs)("div",{className:"d-flex flex-row jc-between ai-center",children:[(0,n.jsx)("div",{className:P,children:p||(0,n.jsx)(a.z,{className:"w-full",size:"large",CROId:void 0===u?"":u,disabled:N,onClick:m,isLoading:void 0!==C&&C,children:c})}),!!i&&(0,n.jsxs)("div",{className:T,children:[(0,n.jsx)("p",{className:"text-caption color-500 ",children:t}),(0,n.jsx)(s.y,{label:(0,o.j)(i),iconClassName:"color-800"})]})]}),!x&&(0,n.jsxs)("p",{className:"color-600 ml-auto-lg text-xs mt-4 d-flex ai-center jc-center w-full",children:["با پرداخت و ثبت سفارش،",(0,n.jsx)(r.e,{mode:"link",className:"font-bold mx-1",href:void 0===h?"https://www.digikala.com/page/terms/":h,color:"blue",size:"small",children:"شرایط و قوانین"}),void 0===f?"دیجی‌پلاس":f," را می‌پذیرم."]})]})]})})}},571:function(e,t,i){"use strict";i.d(t,{F:function(){return l}});var n=i(52322),r=i(72677),a=i(31909),s={src:"/_next/static/media/normalFreeShippingTouchPointImage.d4416515.svg",height:76,width:132},o={src:"/_next/static/media/fmcgFreeShippingTouchPointImage.fd710910.svg",height:76,width:132};function l(e){var t=e.className,i=e.isFastShipping,l=e.isMultiWarehouse,c=e.title,d=e.noCaption,u=i&&!l;return(0,n.jsxs)("div",{className:(0,r.d)("d-flex ai-center jc-between border-200-lg radius-medium bg-000",t),children:[(0,n.jsxs)("div",{className:"pr-4 py-3 pl-1 grow-1 shrink-0",children:[(0,n.jsxs)("div",{className:"text-subtitle-strong d-flex ai-center",children:[(0,n.jsxs)("span",{className:"color-800 ",children:[void 0===c?"ارسال رایگان":c," "]}),u&&(0,n.jsx)("span",{className:"color-fresh-500 mr-1",children:"سوپرمارکتی"})]}),!d&&(0,n.jsx)("p",{className:"color-500 text-body-2",children:"برای سفارش‌ بالای ".concat(u?"۳۰۰":"۵۰۰"," هزار تومان")})]}),(0,n.jsx)(a.E,{width:132,height:60,src:u?o:s})]})}},80085:function(e,t,i){"use strict";i.d(t,{Z:function(){return f}});var n=i(52322),r=i(72677),a=i(45756),s=i(80803),o=i(23154),l=i(98780),c=i(31909),d=i(64113),u=i(57931),m=i(50603),p=i(691),x=i(22961),g=i(2835),v=i.n(g),h=function(e){var t=e.isOpen,i=e.onClose,s=e.className,o=(0,x.i)().isDesktop;return(0,n.jsxs)(m.Modal,{isOpen:t,onDismiss:i,width:460,headerTitle:"الان بخر، بعدا پرداخت کن!",footer:(0,n.jsxs)("div",{className:(0,r.d)("d-flex ai-center gap-x-2",v().DigipayBNPLTouchpointModal__buttons),children:[(0,n.jsx)(u.z,{size:"large",className:"grow-1 shrink-1",onClick:i,CROId:a.h.PDP_BNPL_ACKNOWLEDGE,children:"متوجه شدم"}),(0,n.jsx)(u.z,{mode:"outlined",size:"large",className:"grow-1 shrink-1",to:o?p.fx:p.Xy,target:"_blank",CROId:a.h.PDP_BNPL_MORE_DETAILS,children:"دریافت اعتبار"})]}),className:s,children:[(0,n.jsx)("p",{className:"text-body-1 color-900",children:"با اعتبار دیجی‌پی می‌توانید همین حالا خرید کنید و هزینه آن را یکم تا پنجم ماه آینده بپردازید. کافیست در مرحله پرداخت، روش \xabپرداخت اعتباری\xbb را انتخاب کنید."}),(0,n.jsx)("div",{className:"d-flex jc-center my-4",children:(0,n.jsx)(d.$,{animationFileName:"digipay-bnpl-touchpoint-modal.lottie",loop:!0,autoplay:!0,className:v().DigipayBNPLTouchpointModal__animationContainer})}),(0,n.jsx)("p",{className:"ltr",children:(0,n.jsx)(c.E,{src:"/statics/img/svg/digi-pay-logo.svg",width:"110",height:"14"})})]})},f=function(e){var t=e.className,i=(0,s.d)(),d=i.isOpen,u=i.onOpen,m=i.onClose;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:(0,r.d)("w-full-lg bg-000 radius border-200-lg py-2 px-3 pointer",t),onClick:u,"data-cro-id":a.h.PDP_DIGIPAY_BNPL,children:[(0,n.jsxs)("div",{className:"d-flex ai-center",children:[(0,n.jsx)(l.J,{icon:"calendarCard",size:"24",color:(0,o.$)("color-digipay")}),(0,n.jsxs)("div",{className:"grow-1 d-flex ai-center mr-4 text-subtitle-strong color-700",children:["الان بخر، بعدا پرداخت کن!",(0,n.jsx)(c.E,{src:"/statics/img/svg/new.svg",imageClassName:"mr-2",className:"d-flex ai-center jc-center"})]}),(0,n.jsx)(l.J,{icon:"chevronLeft",size:"24",color:"low-emphasis"})]}),(0,n.jsx)("p",{className:"mr-10 text-body-2 color-500",children:"با اعتبار دیجی‌پی الان بخرید، ابتدای ماهِ بعد بپردازید"})]}),(0,n.jsx)(h,{isOpen:d,onClose:m})]})}},25645:function(e,t,i){"use strict";i.d(t,{s:function(){return n}});var n={FreeAll:"free_for_all",FreePlus:"free_for_plus",FreshFreePlus:"fresh_free_for_plus"}},85430:function(e,t,i){"use strict";i.d(t,{F:function(){return a}});var n=i(72762),r=i(52216),a=function(e){var t=e.digipayCreditAmount,i=e.digipayPrePaymentAmount,a=e.digipayInstallmentCount,s=e.digipayInstallmentAmount,o=[];return i&&o.push("".concat((0,n.j)(i)," تومان هزینه خدمات")),s&&o.push("".concat((0,n.j)(s)," تومان ماهانه (").concat((0,r.U)(a)," ماه)")),t&&o.push("اعتبار تا سقف ".concat((0,n.j)(t)," تومان")),o}},10277:function(e,t,i){"use strict";i.d(t,{C:function(){return n},Z:function(){return r}});var n="OpenSimilarProductsModal";function r(e){if("undefined"!=typeof CustomEvent){var t=new CustomEvent(n,{detail:e});window.dispatchEvent(t)}}},37556:function(e){e.exports={RemovingItemBox__progressBarContainer:"styles_RemovingItemBox__progressBarContainer__9Y2LV",RemovingItemBox__progressBarItem:"styles_RemovingItemBox__progressBarItem__JBowy",fill:"styles_fill__QtTMp"}},69719:function(e){e.exports={TabTitle:"styles_TabTitle__bgsKt","TabTitle--active":"styles_TabTitle--active__rzfBE"}},60554:function(e){e.exports={CheckoutGrid__sideBar:"styles_CheckoutGrid__sideBar__ah_Qn"}},73234:function(e){e.exports={fixedCTA__titleBox:"styles_fixedCTA__titleBox__LlT6U",fixedCTA__ButtonBox:"styles_fixedCTA__ButtonBox__XKO9J"}},2835:function(e){e.exports={DigipayBNPLTouchpointModal__animationContainer:"digipay-bnpl-toucpoint-modal_DigipayBNPLTouchpointModal__animationContainer__2nvZc",DigipayBNPLTouchpointModal__buttons:"digipay-bnpl-toucpoint-modal_DigipayBNPLTouchpointModal__buttons__aJkLD"}},54783:function(e){e.exports={SimpleList:"styles_SimpleList__4Oxc9"}}},function(e){e.O(0,[9526,6057,5672,11,9774,2888,179],function(){return e(e.s=15381)}),_N_E=e.O()}]);